<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-60112109-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-60112109-3');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/user-guide/config-files/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Game collections and metadata files - Pegasus Docs</title><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link href=../../css/base.css rel=stylesheet><link href=../../css/cinder.css rel=stylesheet><link rel=stylesheet href=../../css/highlight.css><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]--><script src=https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js></script><script>WebFont.load({google: {families: ['Open Sans', 'PT Sans']}});</script></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li><a href=../controls/ >Controls</a></li><li class=active><a href=./ >Game collections and metadata files</a></li><li><a href=../scripting/ >Scripting</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform Notes</a><ul class=dropdown-menu><li><a href=../platform-android/ >Android</a></li></ul></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compile Qt</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/deploy/ >Deployment</a></li><li><a href=../../dev/translate/ >Translations</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../themes/overview/ >Overview</a></li><li><a href=../../themes/qml-tutorials/ >QML tutorials</a></li><li><a href=../../themes/qml-modules/ >QML modules</a></li><li><a href=../../themes/example-simple/ >Example -- Simple theme</a></li><li><a href=../../themes/example-flixnet/ >Example -- Flixnet theme</a></li><li><a href=../../themes/api/ >API reference</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fa fa-search"></i> Search</a></li><li><a rel=next href=../controls/ ><i class="fa fa-arrow-left"></i> Previous</a></li><li><a rel=prev href=../scripting/ >Next <i class="fa fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#game-collections-and-metadata-files>Game collections and metadata files</a></li><li class=second-level><a href=#file-names>File names</a></li><li class=second-level><a href=#common-file-format>Common file format</a></li><li class=second-level><a href=#collection-properties>Collection properties</a></li><li class=third-level><a href=#launch-command-parameters>Launch command parameters</a></li><li class=third-level><a href=#example>Example</a></li><li class=second-level><a href=#metadata-properties>Metadata properties</a></li><li class=third-level><a href=#example_1>Example</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=game-collections-and-metadata-files>Game collections and metadata files</h1><p><em>To tell Pegasus the list of directories in which it should look for games, you can use the Settings menu</em> -- is what I'd like to say, but this isn't done yet as of <code>alpha7</code>. The list of directories is read from <code>[config directory]/game_dirs.txt</code>, one directory per line. The file might not exist at first, but you can create it and then it'll be read.</p><div class="admonition help"><p class=admonition-title>Configuration directories</p><p>Depending on your platform, the default config directory should be:</p><ul><li>Linux: <code>~/.config/pegasus-frontend</code></li><li>Windows: <code>C:\Users\&lt;User Name&gt;\AppData\Local\pegasus-frontend</code></li><li>macOS: <code>~/Library/Preferences/pegasus-frontend</code></li></ul></div><p>Pegasus will then go through the directories listed in <code>game_dirs.txt</code>, and look for <em>collection</em> and <em>metadata</em> files in them:</p><ul><li><p><strong>Collections</strong> define which files should be treated as games, and thus appear in Pegasus. You can fine tune which or what type of files you'd like to see in a group, and what to ignore. Games can belong to multiple collections, and collections can span multiple game directories, making the collections useful for organization purposes as well.</p></li><li><p>Additional information about the individual games can be set in the <strong>metadata</strong> file. Common properties, like title, developer(s) or release date can be defined here.</p></li></ul><div class="admonition tip"><p class=admonition-title>EmulationStation</p><p>If you have EmulationStation installed and set up, Pegasus will also check the directories set in <code>es_systems.cfg</code>, read the <code>gamelist.xml</code> files and use the metadata and assets defined there.</p><p>A tool for converting between ES and Pegasus files can be found <a href=http://pegasus-frontend.org/tools/convert>here</a>.</p></div><div class="admonition tip"><p class=admonition-title>Steam</p><p>Pegasus is also compatible with Steam. No additional settings are necessary, installed Steam games will automatically appear in Pegasus with metadata and multimedia assets.</p></div><h2 id=file-names>File names</h2><p>Pegasus fill look for <code>collections.txt</code> or <code>collections.pegasus.txt</code> for the collection definitions, while metadata can be defined in <code>metadata.txt</code> or <code>metadata.pegasus.txt</code>. Pegasus will first check for the <code>.pegasus.txt</code> variant (in case you wish to store something else in the one with shorter name).</p><h2 id=common-file-format>Common file format</h2><p>Both configuration files have the same basic format; they store <code>key: value</code> pairs:</p><div class=codehilite><pre><span></span><span class=nf>collection</span><span class=o>:</span> <span class=n>My</span> <span class=n>Games</span>
<span class=nf>extensions</span><span class=o>:</span> <span class=n>bin</span>
<span class=nf>ignore-file</span><span class=o>:</span> <span class=n>buggygame</span>.<span class=n>bin</span>
<span class=nf>ignore-file</span><span class=o>:</span> <span class=n>duplicategame</span>.<span class=n>bin</span>
<span class=nf>launch</span><span class=o>:</span> <span class=n>myemulator</span> {<span class=n>file</span>.<span class=n>path</span>}
</pre></div><div class=codehilite><pre><span></span><span class=nf>file</span><span class=o>:</span> <span class=n>Advance</span> <span class=n>Wars</span> (<span class=n>USA</span>).<span class=n>gba</span>
<span class=nf>title</span><span class=o>:</span> <span class=n>Advance</span> <span class=n>Wars</span>
<span class=nf>developer</span><span class=o>:</span> <span class=n>Intelligent</span> <span class=n>Games</span>
<span class=nf>genre</span><span class=o>:</span> <span class=n>Strategy</span>
<span class=nf>players</span><span class=o>:</span> 4
<span class=nf>description</span><span class=o>:</span> <span class=n>This</span> <span class=n>turn</span>-<span class=n>based</span> <span class=n>strategy</span> <span class=n>game</span> <span class=n>hails</span> <span class=n>back</span> <span class=n>to</span> <span class=n>a</span> <span class=n>classic</span> <span class=n>Japanese</span>
    strategy game titled Famicom Wars. Advance Wars pits players against very
    computer AI in a number of battles involving submarines, warships, infantry,
    tanks, helicopters, and other weapons.
<span class=nf>rating</span><span class=o>:</span> 80%
<span class=nf>x-id</span><span class=o>:</span> 3782
<span class=nf>x-source</span><span class=o>:</span> <span class=n>ScreenScraper</span>
</pre></div><ul><li>Keys are case insensitive, ie. <code>title</code>, <code>Title</code> and <code>TitLe</code> are the same. Keys always start an the beginning of the line and end at the first <code>:</code> (not including trailing spaces).</li><li>Values are either single line or span multiple lines. Lines starting with space (or other whitespace characters) will be appended to the item's value (without leading or trailing whitespace), with a single space between the contents of the individual lines. Empty lines will be appended as line breaks.</li><li>Both the keys and the values may contain Unicode characters.</li><li>Lines starting with <code>#</code> are comments and will be ignored.</li></ul><h2 id=collection-properties>Collection properties</h2><p>The following keys can be used in the collection config files:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>collection</code></td><td>Creates a new collection with the value as name (if it was not created yet). The properties after this line will modify this colection. This is a <strong>required</strong> field.</td></tr><tr><td><code>launch</code></td><td>A common launch command for the games in this collection. See below for the supported variables.</td></tr><tr><td><code>command</code></td><td>Same as <code>launch</code>. Use whichever you prefer.</td></tr><tr><td><code>shortname</code></td><td>An optional short name for the collection, often an abbreviation (like MAME, NES, etc.). Should be lowercase.</td></tr></tbody></table><p>The following fields control which files of the directory should be included in the collection:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>extension</code></td><td>A comma-separated list of file extensions, without the <code>.</code> dot. All files with these extensions (including those in subdirectories) will be included. This field can appear multiple times.</td></tr><tr><td><code>file</code></td><td>A single file to add to the collection. This field can appear multiple times.</td></tr><tr><td><code>regex</code></td><td>A Perl-compatible regular expression string, without leading or trailing slashes. Relative file paths matching it will be included. Unicode is supported.</td></tr></tbody></table><p>The fields above with the <code>ignore-</code> prefix control which files should be excluded:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>ignore-extension</code></td><td>Similarly to <code>extension</code> above.</td></tr><tr><td><code>ignore-file</code></td><td>Similarly to <code>file</code> above.</td></tr><tr><td><code>ignore-regex</code></td><td>Similarly to <code>regex</code> above.</td></tr></tbody></table><p><strong>Exclusion is stronger than inclusion</strong>: if both the normal and the <code>ignore-</code> fields match for a file, it will be excluded.</p><p>Keys starting with <code>x-</code> can be used to extend the format with additional data. This could be used, for example, by other softwares (eg. scrapers) to store some program-specific data.</p><div class="admonition tip"><p class=admonition-title>Plural forms</p><p>Sometimes writing the plural forms of the fields feels more natural, so <code>extensions</code>, <code>files</code>, <code>ignore-extensions</code> and <code>ignore-files</code> are also supported, without any difference to their regular forms.</p></div><h3 id=launch-command-parameters>Launch command parameters</h3><p>The following variables will be replaced in the launch command value:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>{file.path}</code></td><td>Absolute path to the file.</td><td><code>/home/joe/games/mygame.bin</code></td></tr><tr><td><code>{file.name}</code></td><td>The file name part of the path</td><td><code>mygame.bin</code></td></tr><tr><td><code>{file.basename}</code></td><td>The file name without extension (ie. until but not including the last dot)</td><td><code>mygame</code></td></tr><tr><td><code>{file.dir}</code></td><td>The directory where the file is located.</td><td><code>/home/joe/games</code></td></tr></tbody></table><p>Note that the variables will be replaced as-is, without additional formatting. Depending on your use cases, you might need to eg. wrap them in quotes.</p><h3 id=example>Example</h3><div class=codehilite><pre><span></span><span class=c># Selects all files with the provided extension, except two games</span>
<span class=nf>collection</span><span class=o>:</span> <span class=n>Super</span> <span class=n>Nintendo</span> <span class=n>Entertainment</span> <span class=n>System</span>
<span class=nf>shortname</span><span class=o>:</span> <span class=n>snes</span>
<span class=nf>extensions</span><span class=o>:</span> 7<span class=n>z</span><span class=p>,</span> <span class=n>bin</span><span class=p>,</span> <span class=n>smc</span><span class=p>,</span> <span class=n>sfc</span><span class=p>,</span> <span class=n>fig</span><span class=p>,</span> <span class=n>swc</span><span class=p>,</span> <span class=n>mgd</span><span class=p>,</span> <span class=n>zip</span><span class=p>,</span> <span class=n>bin</span>
<span class=nf>ignore-file</span><span class=o>:</span> <span class=n>buggygame</span>.<span class=n>bin</span>
<span class=nf>ignore-file</span><span class=o>:</span> <span class=n>duplicategame</span>.<span class=n>bin</span>
<span class=nf>launch</span><span class=o>:</span> <span class=n>myemulator</span> &quot;{<span class=n>file</span>.<span class=n>path</span>}&quot;

<span class=c># A collection of 3 games. They&#39;re also part of &#39;My Games&#39;.</span>
<span class=nf>collection</span><span class=o>:</span> <span class=n>Platformer</span> <span class=n>games</span>
<span class=nf>files</span><span class=o>:</span> <span class=n>mario</span>1.<span class=n>bin</span>
<span class=nf>files</span><span class=o>:</span> <span class=n>mario</span>2.<span class=n>bin</span>
<span class=nf>files</span><span class=o>:</span> <span class=n>mario</span>3.<span class=n>bin</span>

<span class=c># A regex example; includes games with &#39;[number]-in-1&#39; in their name.</span>
<span class=nf>collection</span><span class=o>:</span> <span class=n>Multi</span>-<span class=n>game</span> <span class=n>carts</span>
<span class=nf>regex</span><span class=o>:</span> \<span class=n>d</span>+.<span class=n>in</span>.1
</pre></div><h2 id=metadata-properties>Metadata properties</h2><p>The following properties can be used in the metadata files:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>file</code></td><td>Relative path to the file for which the metadata after this line will be added. If the file is not included in any collection, all properties will be ignored until the next <code>file</code> key. This is a <strong>required</strong> field.</td></tr><tr><td><code>title</code></td><td>The proper title of the game. If it's not defined, the file name without extension will be used.</td></tr><tr><td><code>name</code></td><td>Same as <code>title</code>. Use whichever you prefer.</td></tr><tr><td><code>developer</code></td><td>The developer or the game. This field can appear multiple times.</td></tr><tr><td><code>publisher</code></td><td>The publisher or the game. This field can appear multiple times.</td></tr><tr><td><code>genre</code></td><td>A comma-separated list of genres. This field can appear multiple times.</td></tr><tr><td><code>summary</code></td><td>A short description of the game in one paragraph.</td></tr><tr><td><code>description</code></td><td>A possibly longer description of the game.</td></tr><tr><td><code>players</code></td><td>The number of players who can play the game. Either a single number (eg. <code>2</code>) or a number range (eg. <code>1-4</code>).</td></tr><tr><td><code>release</code></td><td>The date when the game was released, in YYYY-MM-DD format (eg. <code>1985-05-22</code>). Month and day can be omitted if unknown (eg. <code>1985-05</code> or <code>1985</code> alone is also accepted).</td></tr><tr><td><code>rating</code></td><td>The rating of the game, in percentages. Either an integer percentage in the 0-100% range (eg. <code>70%</code>), or a fractional value between 0 and 1 (eg. <code>0.7</code>).</td></tr><tr><td><code>launch</code></td><td>If this game must be launched differently than the others in the same collection, a custom launch command can be defined for it.</td></tr><tr><td><code>command</code></td><td>Same as <code>launch</code>. Use whichever you prefer.</td></tr></tbody></table><p>Like with the collections, keys starting with <code>x-</code> can be used to extend the format with additional data. This could be used, for example, by other softwares (eg. scrapers) to store some program-specific data.</p><div class="admonition tip"><p class=admonition-title>Plural forms</p><p>As with the collections, plural forms for the keys with multiple values are also supported, so <code>developers</code>, <code>publishers</code> and <code>genres</code> will work too.</p></div><h3 id=example_1>Example</h3><div class=codehilite><pre><span></span><span class=nf>file</span><span class=o>:</span> <span class=n>Alien</span> <span class=n>Hominid</span> (<span class=n>Europe</span>) (<span class=n>En</span><span class=p>,</span><span class=n>Fr</span><span class=p>,</span><span class=n>De</span><span class=p>,</span><span class=n>Es</span><span class=p>,</span><span class=n>It</span>).<span class=n>gba</span>
<span class=nf>title</span><span class=o>:</span> <span class=n>Alien</span> <span class=n>Hominid</span>
<span class=nf>developer</span><span class=o>:</span> <span class=n>Zoo</span> <span class=n>Digital</span>
<span class=nf>genre</span><span class=o>:</span> <span class=n>Shooter</span>
<span class=nf>players</span><span class=o>:</span> 1
<span class=nf>summary</span><span class=o>:</span> <span class=n>You</span>&#39;<span class=n>re</span> <span class=n>a</span> <span class=n>little</span> <span class=n>yellow</span> <span class=n>alien</span>.  <span class=n>The</span> <span class=n>FBI</span> <span class=n>has</span> <span class=n>shot</span> <span class=n>down</span> <span class=n>your</span> <span class=n>ship</span>
  <span class=k>while</span> flying over planet Earth.  And it, quite literally, lands right on their
  doorstep.  After a series of FBI Agents swipe your ship, what option <span class=k>do</span> you have
  other than to blow up everything in your path to get it back?
<span class=nf>description</span><span class=o>:</span>
  Alien Hominid is a 2D side-scrolling shooter with heavy references to the Metal
  Slug series of games - from the hand-drawn graphics, huge explosions, right down
  to the ability to eviscerate FBI Agents when you get up close to them.  The
  graphics are by featured artist Dan Paladin.  Your goal, is quite simply, to get
  to the end of the stage, and die as little as possible.  Which is made difficult
  due to the fact that any bullet is an instant kill.

  To <span class=nb>help</span> you out, you can grab a range of power-ups, such as lasers, spread
  shots, shotguns and more, as well as hijacking vehicles and using them <span class=k>for</span>
  protection.  Grenades can be lobbed, and you can jump on enemy shoulders and
  choose to bite their heads off <span class=k>if</span> you like, or pick them up and throw them at
  other enemies.  You can also dive underground <span class=k>for</span> a short period of <span class=nb>time</span> to
  avoid enemies - <span class=k>while</span> underground, you can drag agents into the ground to <span class=nb>kill</span>
  them.
<span class=nf>rating</span><span class=o>:</span> 50%
<span class=nf>x-id</span><span class=o>:</span> 4149
<span class=nf>x-source</span><span class=o>:</span> <span class=n>ScreenScraper</span>


<span class=nf>file</span><span class=o>:</span> <span class=n>Altered</span> <span class=n>Beast</span> - <span class=n>Guardian</span> <span class=n>of</span> <span class=n>the</span> <span class=n>Realms</span> (<span class=n>USA</span>).<span class=n>gba</span>
<span class=nf>title</span><span class=o>:</span> <span class=n>Altered</span> <span class=n>Beast</span> : <span class=n>Guardian</span> <span class=n>of</span> <span class=n>the</span> <span class=n>Realms</span>
<span class=nf>developer</span><span class=o>:</span> <span class=n>THQ</span>
<span class=nf>genre</span><span class=o>:</span> <span class=n>Action</span>
<span class=nf>rating</span><span class=o>:</span> 60%
<span class=nf>x-id</span><span class=o>:</span> 4139
<span class=nf>x-source</span><span class=o>:</span> <span class=n>ScreenScraper</span>
</pre></div></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018 Mátyás Mustoha<br></small><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=../../js/jquery-1.10.2.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script src=../../js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>var base_url = '../..';</script><script data-main=../../mkdocs/js/search.js src=../../mkdocs/js/require.js></script><script src=../../js/base.js></script><script src=../../search/require.js></script><script src=../../search/search.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby="Search Modal" aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=exampleModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form role=form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div></body></html>