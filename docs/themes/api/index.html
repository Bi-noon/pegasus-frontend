<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-60112109-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-60112109-3');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/themes/api/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>API reference - Pegasus Docs</title><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link href=../../css/base.css rel=stylesheet><link href=../../css/cinder.css rel=stylesheet><link rel=stylesheet href=../../css/highlight.css><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]--><script src=https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js></script><script>WebFont.load({google: {families: ['Open Sans', 'PT Sans']}});</script></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../user-guide/controls/ >Controls</a></li><li><a href=../../user-guide/config-files/ >Game collections and metadata files</a></li><li><a href=../../user-guide/scripting/ >Scripting</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform Notes</a><ul class=dropdown-menu><li><a href=../../user-guide/platform-android/ >Android</a></li></ul></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compile Qt</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/deploy/ >Deployment</a></li><li><a href=../../dev/translate/ >Translations</a></li></ul></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../overview/ >Overview</a></li><li><a href=../qml-tutorials/ >QML tutorials</a></li><li><a href=../qml-modules/ >QML modules</a></li><li><a href=../example-simple/ >Example -- Simple theme</a></li><li><a href=../example-flixnet/ >Example -- Flixnet theme</a></li><li class=active><a href=./ >API reference</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fa fa-search"></i> Search</a></li><li><a rel=next href=../example-flixnet/ ><i class="fa fa-arrow-left"></i> Previous</a></li><li class=disabled><a rel=prev>Next <i class="fa fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#api-reference-alpha>API reference (alpha)</a></li><li class=second-level><a href=#list-of-collections>List of Collections</a></li><li class=second-level><a href=#one-collection>One Collection</a></li><li class=second-level><a href=#list-of-games>List of Games</a></li><li class=second-level><a href=#one-game>One Game</a></li><li class=second-level><a href=#game-assets>Game Assets</a></li><li class=second-level><a href=#launching-games>Launching games</a></li><li class=second-level><a href=#filtering-games>Filtering games</a></li><li class=second-level><a href=#fonts>Fonts</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=api-reference-alpha>API reference (alpha)</h1><p>Games found by Pegasus are organized in collections. Games can have metadata and various kinds of assets, and one game may be present in multiple collections.</p><p>All data provided by the Core is available in a global QML object called <code>api</code>. It has the following main components. Unless otherwise noted, all fields are read-only.</p><h2 id=list-of-collections>List of Collections</h2><p>The list of collections can be accessed trough <code>api.collectionList</code>. It's an Object with the following members:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>model</code></td><td>The array of <code>Collection</code> items; can be used as the <code>model</code> parameter of dynamic layouts.</td></tr><tr><td><code>count</code></td><td>The number of <code>Collection</code> items in <code>model</code>. Positive integer.</td></tr><tr><td><code>index</code></td><td>The index of the currently selected item of <code>model</code>. <strong>Writable</strong>, accepted values are positive integers less than <code>count</code>, and <code>-1</code> (nothing selected). Setting invalid values will be ignored.</td></tr><tr><td><code>current</code></td><td>The currently selected <code>Collection</code>. If <code>index</code> is <code>-1</code>, its value is <code>null</code>, otherwise equivalent to <code>model[index]</code>. <code>current</code> as a field is read-only, but the <code>Collection</code> itself has writable fields; see below.</td></tr></tbody></table><p>Furthermore, it also has the following callable methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>incrementIndex()</code></td><td>Increments the <code>index</code> by one. If the <code>index</code> was pointing to the last item, it jumps to the first one (ie. wraps around).</td></tr><tr><td><code>decrementIndex()</code></td><td>Decrements the <code>index</code> by one. If the <code>index</code> was pointing to the firs item, it jumps to the last one (ie. wraps around).</td></tr><tr><td><code>incrementIndexNoWrap()</code></td><td>Increments the <code>index</code> by one, if it's not pointing to the last item already.</td></tr><tr><td><code>decrementIndexNoWrap()</code></td><td>Decrements the <code>index</code> by one, if it's not pointing to the first item already.</td></tr></tbody></table><h2 id=one-collection>One Collection</h2><p><code>api.currentCollection</code> can be used as a shortcut for <code>api.collectionList.current</code>. A <code>Collection</code> has the following data members. Properties marked as "optional" might have no value (eg. empty string or empty array).</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>The unique name of the collection, eg. "Nintendo Entertainment System", "Mario Cartridges", etc.</td></tr><tr><td><code>shortName</code></td><td><span class=optional></span> An optional, lowercase short name for the collection. Often an abbreviation, like <code>nes</code>, <code>mame</code>, etc.</td></tr><tr><td><code>gameList</code></td><td>Object storing the list of games (see below).</td></tr></tbody></table><h2 id=list-of-games>List of Games</h2><p>Similarly to the list of collections, <code>api.currentCollection.gameList</code> is an Object with the following members:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>modelAll</code></td><td>The array of all <code>Game</code> items in this collection; can be used as the <code>model</code> parameter of dynamic layouts.</td></tr><tr><td><code>model</code></td><td>The array of <code>Game</code> items matching the currently active <code>Filter</code> (see later); can be used as the <code>model</code> parameter of dynamic layouts.</td></tr><tr><td><code>countAll</code></td><td>The number of items in <code>modelAll</code>. Positive integer.</td></tr><tr><td><code>count</code></td><td>The number of items in <code>model</code>. Positive integer.</td></tr><tr><td><code>index</code></td><td>The index of the currently selected item of <code>model</code> (not <code>modelAll</code>, since you can't select a game you've hide with a filter). <strong>Writable</strong>, accepted values are positive integers less than <code>count</code>, and <code>-1</code> (nothing selected). Setting invalid values will be ignored.</td></tr><tr><td><code>current</code></td><td>The currently selected <code>Game</code>. If <code>index</code> is <code>-1</code>, its value is <code>null</code>, otherwise equivalent to <code>model[index]</code>.</td></tr></tbody></table><p>Furthermore, it also has the following callable methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>incrementIndex()</code></td><td>Increments the <code>index</code> by one. If the <code>index</code> was pointing to the last item, it jumps to the first one (ie. wraps around).</td></tr><tr><td><code>decrementIndex()</code></td><td>Decrements the <code>index</code> by one. If the <code>index</code> was pointing to the firs item, it jumps to the last one (ie. wraps around).</td></tr><tr><td><code>incrementIndexNoWrap()</code></td><td>Increments the <code>index</code> by one, if it's not pointing to the last item already.</td></tr><tr><td><code>decrementIndexNoWrap()</code></td><td>Decrements the <code>index</code> by one, if it's not pointing to the first item already.</td></tr></tbody></table><h2 id=one-game>One Game</h2><p><code>api.currentGame</code> can be used as a shortcut for <code>api.collectionList.current.gameList.current</code>. A <code>Game</code> is an Object with the following data members. Properties marked as "optional" might have no value (eg. empty string or empty array).</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>title</code></td><td>Game title</td></tr><tr><td><code>developer</code></td><td><span class=optional></span> Developer(s) as a string. If there are more than one, they are separated with <code>,</code>.</td></tr><tr><td><code>publisher</code></td><td><span class=optional></span> Publisher(s) as a string. If there are more than one, they are separated with <code>,</code>.</td></tr><tr><td><code>genre</code></td><td><span class=optional></span> Genre(s) as a string. If there are more than one, they are separated with <code>,</code>.</td></tr><tr><td><code>developerList</code></td><td><span class=optional></span> Developers as an array.</td></tr><tr><td><code>publisherList</code></td><td><span class=optional></span> Publishers as an array.</td></tr><tr><td><code>genreList</code></td><td><span class=optional></span> Genres as an array.</td></tr><tr><td><code>summary</code></td><td><span class=optional></span> Short description (2-3 sentence or less)</td></tr><tr><td><code>description</code></td><td><span class=optional></span> Longer description</td></tr><tr><td><code>release</code></td><td><span class=optional></span> Release date as QML <code>date</code> (default: invalid)</td></tr><tr><td><code>year</code></td><td><span class=optional></span> Release year as integer (default: 0)</td></tr><tr><td><code>month</code></td><td><span class=optional></span> Release month as integer (default: 0)</td></tr><tr><td><code>day</code></td><td><span class=optional></span> Release day as integer (default: 0)</td></tr><tr><td><code>players</code></td><td><span class=optional></span> Maximum number of players (default: 1)</td></tr><tr><td><code>rating</code></td><td><span class=optional></span> Floating-point value between and including <code>0.0</code> and <code>1.0</code> (default: <code>0.0</code>)</td></tr><tr><td><code>assets</code></td><td>An Object containing game assets (see below)</td></tr><tr><td><code>favorite</code></td><td><span class=optional></span> Boolean (true/false) value (default: false). <strong>Writable</strong>.</td></tr><tr><td><code>playCount</code></td><td><span class=optional></span> Positive integer (default: 0)</td></tr><tr><td><code>lastPlayed</code></td><td><span class=optional></span> As QML <code>date</code>, incl. time (default: invalid)</td></tr></tbody></table><h2 id=game-assets>Game Assets</h2><p>Every <code>Game</code> has an <code>asset</code> member Object with the following data members. All of them are string URLs, and all of them can be empty.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>boxFront</code></td><td>The front of the game box</td></tr><tr><td><code>boxBack</code></td><td>The back of the game box</td></tr><tr><td><code>boxSpine</code></td><td>The spine (side) of the game box</td></tr><tr><td><code>boxFull</code></td><td>Full size box art (front + back + spine)</td></tr><tr><td><code>cartridge</code></td><td>Image of the game medium (cartridge, floppy, disk, etc.)</td></tr><tr><td><code>logo</code></td><td>The game's logo, usually the title art over a transparent background</td></tr></tbody></table><p><img alt="box-related assets" src=../img/assets-box.png></p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>marquee</code></td><td>A wide (often over 3:1) artwork on the top of arcade machines</td></tr><tr><td><code>bezel</code></td><td>Decoration around a game's screen on an arcade machine or emulator</td></tr><tr><td><code>panel</code></td><td>Control panel of the arcade machine</td></tr><tr><td><code>cabinetLeft</code></td><td>Left side of the arcade machine</td></tr><tr><td><code>cabinetRight</code></td><td>Right side of the arcade machine</td></tr></tbody></table><p><img alt="box-related assets" src=../img/assets-arcade.png></p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>tile</code></td><td>A square-sized image (<em>not</em> the desktop icon)</td></tr><tr><td><code>banner</code></td><td>An image in 16:9 aspect ratio</td></tr><tr><td><code>steam</code></td><td>Steam grid icon, 460:215 ratio (most often 460x215, some people use 920x430)</td></tr><tr><td><code>poster</code></td><td>Advertisement poster, usually with 2:3 aspect ratio (in general a portrait-aligned image)</td></tr><tr><td><code>background</code></td><td>A background image, eg. artwork or selected screenshot</td></tr><tr><td><code>music</code></td><td>Background music</td></tr></tbody></table><p><img alt="box-related assets" src=../img/assets-ui.png></p><p>In addition, the following members can have multiple values, and as such usable as eg. <code>model</code> sources. All of them can be empty.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>screenshots</code></td><td>Array of strings, each a URL to an image.</td></tr><tr><td><code>videos</code></td><td>Array of strings, each a URL to a video source.</td></tr></tbody></table><h2 id=launching-games>Launching games</h2><p>You can select a game by changing <code>api.collectionList.index</code> and <code>api.currentCollection.gameList.index</code>. Then call <code>api.launchGame</code> to start the game.</p><h2 id=filtering-games>Filtering games</h2><p><code>api.filters</code> is an Object with the data members below. Changing these values will automatically update all <code>Collection</code>'s <code>model</code> field to include <code>Game</code>s that match <em>all</em> filters. <strong>All fields are writable</strong>.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>title</code></td><td>Match games whose titles contain this string. String value. (default: empty)</td></tr><tr><td><code>playerCount</code></td><td>Match games that have at least this many players. Positive integer. (default: 1)</td></tr><tr><td><code>favorite</code></td><td>Setting to true includes only games marked as favorite. Boolean (true/false) value. (default: false)</td></tr></tbody></table><div class="admonition note"><p class=admonition-title>Note</p><p>At the moment, the indices of the game lists reset to <code>0</code> or <code>-1</code> (no hits) when the <code>Filter</code> changes.</p></div><h2 id=fonts>Fonts</h2><p>Pegasus comes with a sans-serif and a sans-serif condensed font face, which are used in the main menu. If you want to use the same font families in your theme, you can access them using a global QML object called <code>globalFonts</code>. This has the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>sans</code></td><td>The sans-serif font</td></tr><tr><td><code>condensed</code></td><td>The sans-serif condensed font</td></tr></tbody></table><p>You can use them as the value for <code>font.family</code> members of Text items, eg. <code>font.family: globalFonts.sans</code>.</p><p>The fonts currently in use are Roboto and Roboto Condensed.</p></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018 Mátyás Mustoha<br></small><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=../../js/jquery-1.10.2.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script src=../../js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>var base_url = '../..';</script><script data-main=../../mkdocs/js/search.js src=../../mkdocs/js/require.js></script><script src=../../js/base.js></script><script src=../../search/require.js></script><script src=../../search/search.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby="Search Modal" aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=exampleModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form role=form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div></body></html>